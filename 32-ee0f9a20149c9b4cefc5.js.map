{"version":3,"sources":["webpack:///./src/components/molecules/dashboard/PassengerDailyFigure.js","webpack:///./src/components/atoms/Text.js"],"names":["DailyStatsContainer","styled","Box","DailyChange","badSign","children","props","theme","palette","secondary","dark","trafficLight","green","DailyStat","DailyStatFigureLabel","Typography","typography","xsmallFontSize","bps","down","PassengerDailyStatFigure","data","t","useTranslation","allImmdShenzhenBay","edges","bay_today","node","bay_ytd","allImmdHongKongZhuhaiMacaoBridge","bridge_today","bridge_ytd","allImmdAirport","airport_today","airport_ytd","allImmdTotal","total_today","total_ytd","dataArray","label","today_stat","arrival_total","diff","variant","href","target","map","d","i","key","formatNumber","Math","abs","Label","primary","Paragraph","smallFontSize"],"mappings":"8RAYA,IAAMA,EAAsBC,YAAOC,KAAV,4FAAGD,CAAH,iDAKnBE,EAAcF,aAAO,cAAGG,QAAH,IAAYC,EAAZ,EAAYA,SAAaC,E,oIAAzB,kCACzB,kBAAC,IAAeA,EAAQD,MADT,oFAAGJ,CAAH,+CAKN,SAAAK,GACP,OAAOA,EAAMF,QACTE,EAAMC,MAAMC,QAAQC,UAAUC,KAC9BJ,EAAMC,MAAMC,QAAQG,aAAaC,SAInCC,EAAYZ,YAAOC,KAAV,kFAAGD,CAAH,4DAKTa,EAAuBb,YAAOc,KAAV,6FAAGd,CAAH,0DAEX,SAAAK,GAAK,OAAIA,EAAMC,MAAMS,WAAWC,iBAE3CC,IAAIC,KAAK,OAKPC,EAA2BnB,YAAOc,KAAV,iGAAGd,CAAH,qCAKf,qBACb,IAAMoB,EAAI,OAuEFC,EAAMC,cAAND,EAxEW,EAyE8BD,EAAKG,mBAAmBC,MAA1DC,EAzEI,KAyEVC,KAA2BC,EAzEjB,KAyEWD,KAzEX,EA6EfN,EAAKQ,iCAAiCJ,MAFhCK,EA3ES,KA2EfH,KACMI,EA5ES,KA4EfJ,KA5Ee,EAiFfN,EAAKW,eAAeP,MAFdQ,EA/ES,KA+EfN,KACMO,EAhFS,KAgFfP,KAhFe,EAkFkCN,EAAKc,aAAaV,MAAxDW,EAlFI,KAkFVT,KAA6BU,EAlFnB,KAkFaV,KAC1BW,EAAY,CAChB,CACEC,MAAOjB,EAAE,qBACTkB,WAAYP,EAAcQ,cAC1BC,KAAMT,EAAcQ,cAAgBP,EAAYO,eAElD,CACEF,MAAOjB,EAAE,iBACTkB,WAAYd,EAAUe,eAAiB,EACvCC,KAAMhB,EAAUe,cAAgBb,EAAQa,eAE1C,CACEF,MAAOjB,EAAE,oBACTkB,WAAYV,EAAaW,cACzBC,KAAMZ,EAAaW,cAAgBV,EAAWU,eAEhD,CACEF,MAAOjB,EAAE,mBACTkB,WAAYJ,EAAYK,cACxBC,KAAMN,EAAYK,cAAgBJ,EAAUI,gBAIhD,OACE,oCACE,kBAAC,IAAD,KAAYnB,EAAE,6BACd,kBAAC,IAAD,CAAYqB,QAAQ,SAClB,kBAAC,IAAD,CACEC,KAAK,6DACLC,OAAO,UAENvB,EAAE,2BAGP,kBAAC,IAAD,KACE,kBAACtB,EAAD,KACGsC,EAAUQ,KAAI,SAACC,EAAGC,GAAJ,OACb,kBAACnC,EAAD,CAAWoC,IAAKD,GACd,kBAAClC,EAAD,KAAuBiC,EAAER,OACzB,kBAACnB,EAAD,KACG8B,YAAaH,EAAEP,aAElB,kBAACrC,EAAD,CAAaC,QAAS2C,EAAEL,KAAO,GAC5BK,EAAEL,KAAO,EAAT,KACQQ,YAAaH,EAAEL,MACpBK,EAAEL,KAAO,EAAT,KACKQ,YAAaC,KAAKC,IAAIL,EAAEL,OAD7B,c,qlEChLpB,gGAGaW,EAAQpD,YAAOc,KAAV,kEAAGd,CAAH,kDAEH,SAAAK,GAAK,OAAIA,EAAMC,MAAMS,WAAWC,kBACpC,SAAAX,GAAK,OAAIA,EAAMC,MAAMC,QAAQ8C,QAAQ5C,QAGnC6C,EAAYtD,YAAOc,KAAV,sEAAGd,CAAH,8DAEP,SAAAK,GAAK,OAAIA,EAAMC,MAAMS,WAAWwC","file":"32-ee0f9a20149c9b4cefc5.js","sourcesContent":["import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport styled from \"styled-components\"\nimport Box from \"@material-ui/core/Box\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { bps } from \"@/ui/theme\"\nimport { formatNumber } from \"@/utils\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { Paragraph } from \"@components/atoms/Text\"\nimport Link from \"@material-ui/core/Link\"\nimport { BasicCard } from \"@components/atoms/Card\"\n\nconst DailyStatsContainer = styled(Box)`\n  display: flex;\n  justify-content: space-between;\n`\n\nconst DailyChange = styled(({ badSign, children, ...props }) => (\n  <Typography {...props}>{children}</Typography>\n))`\n  font-size: 14px;\n  font-weight: 700;\n  color: ${props => {\n    return props.badSign\n      ? props.theme.palette.secondary.dark\n      : props.theme.palette.trafficLight.green\n  }};\n`\n\nconst DailyStat = styled(Box)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\nconst DailyStatFigureLabel = styled(Typography)`\n  text-align: center;\n  font-size: ${props => props.theme.typography.xsmallFontSize};\n\n  ${bps.down(\"sm\")} {\n    font-size: 11px;\n  }\n`\n\nconst PassengerDailyStatFigure = styled(Typography)`\n  font-size: 20px;\n  font-weight: 700;\n`\n\nexport default () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allImmdHongKongZhuhaiMacaoBridge(sort: { order: DESC, fields: date }) {\n          edges {\n            node {\n              arrival_hong_kong\n              arrival_mainland\n              arrival_other\n              arrival_total\n              date\n              departure_hong_kong\n              departure_mainland\n              departure_other\n              departure_total\n              location\n            }\n          }\n        }\n        allImmdTotal(sort: { order: DESC, fields: date }) {\n          edges {\n            node {\n              arrival_hong_kong\n              arrival_mainland\n              arrival_other\n              arrival_total\n              date\n              departure_hong_kong\n              departure_mainland\n              departure_other\n              departure_total\n              location\n            }\n          }\n        }\n        allImmdAirport(sort: { order: DESC, fields: date }) {\n          edges {\n            node {\n              arrival_hong_kong\n              arrival_mainland\n              arrival_other\n              arrival_total\n              date\n              departure_hong_kong\n              departure_mainland\n              departure_other\n              departure_total\n              location\n            }\n          }\n        }\n        allImmdShenzhenBay(sort: { order: DESC, fields: date }) {\n          edges {\n            node {\n              arrival_hong_kong\n              arrival_mainland\n              arrival_other\n              arrival_total\n              date\n              departure_hong_kong\n              departure_mainland\n              departure_other\n              departure_total\n              location\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const { t } = useTranslation()\n  const [{ node: bay_today }, { node: bay_ytd }] = data.allImmdShenzhenBay.edges\n  const [\n    { node: bridge_today },\n    { node: bridge_ytd },\n  ] = data.allImmdHongKongZhuhaiMacaoBridge.edges\n  const [\n    { node: airport_today },\n    { node: airport_ytd },\n  ] = data.allImmdAirport.edges\n  const [{ node: total_today }, { node: total_ytd }] = data.allImmdTotal.edges\n  const dataArray = [\n    {\n      label: t(\"dashboard.airport\"),\n      today_stat: airport_today.arrival_total,\n      diff: airport_today.arrival_total - airport_ytd.arrival_total,\n    },\n    {\n      label: t(\"dashboard.bay\"),\n      today_stat: bay_today.arrival_total || 0,\n      diff: bay_today.arrival_total - bay_ytd.arrival_total,\n    },\n    {\n      label: t(\"dashboard.bridge\"),\n      today_stat: bridge_today.arrival_total,\n      diff: bridge_today.arrival_total - bridge_ytd.arrival_total,\n    },\n    {\n      label: t(\"dashboard.total\"),\n      today_stat: total_today.arrival_total,\n      diff: total_today.arrival_total - total_ytd.arrival_total,\n    },\n  ]\n\n  return (\n    <>\n      <Paragraph>{t(\"dashboard.reference_only\")}</Paragraph>\n      <Typography variant=\"body2\">\n        <Link\n          href=\"https://www.immd.gov.hk/hkt/message_from_us/stat_menu.html\"\n          target=\"_blank\"\n        >\n          {t(\"dashboard.source_immd\")}\n        </Link>\n      </Typography>\n      <BasicCard>\n        <DailyStatsContainer>\n          {dataArray.map((d, i) => (\n            <DailyStat key={i}>\n              <DailyStatFigureLabel>{d.label}</DailyStatFigureLabel>\n              <PassengerDailyStatFigure>\n                {formatNumber(d.today_stat)}\n              </PassengerDailyStatFigure>\n              <DailyChange badSign={d.diff > 0}>\n                {d.diff > 0\n                  ? `▲ ${formatNumber(d.diff)}`\n                  : d.diff < 0\n                  ? `▼ ${formatNumber(Math.abs(d.diff))}`\n                  : `-`}\n              </DailyChange>\n            </DailyStat>\n          ))}\n        </DailyStatsContainer>\n      </BasicCard>\n    </>\n  )\n}\n","import styled from \"styled-components\"\nimport Typography from \"@material-ui/core/Typography\"\n\nexport const Label = styled(Typography)`\n  margin-bottom: 3px;\n  font-size: ${props => props.theme.typography.xsmallFontSize}px;\n  color: ${props => props.theme.palette.primary.dark};\n`\n\nexport const Paragraph = styled(Typography)`\n  margin-bottom: 8px;\n  font-size: ${props => props.theme.typography.smallFontSize}px;\n\n  && b {\n    font-weight: 800;\n  }\n`\n"],"sourceRoot":""}